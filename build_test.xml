<project>
  <target name="clean">
    <delete dir="build"/>
    <delete dir="M&amp;M" />
    <delete dir="M1PrivateTest" />
  </target>

  <target name="compile_src">
      <mkdir dir="build/classes"/>
      <javac includeantruntime="true" failonerror="true"
      srcdir="M&amp;M" destdir="build/classes"/>
  </target>

  <target name="compile_tests">
    <javac includeantruntime="true" srcdir="M1PrivateTest"
    destdir="build/classes"
    />
  </target>

  
  <target name="delete_test_source">
    <delete dir="M1PrivateTest" />
  </target>

  <target name="clear_test_results">
    <delete dir="build/tests"/>
  </target>

  <target name="test">
    <mkdir dir="build/tests" />
    <junit includeantruntime="true" haltonerror="no" haltonfailure="no" fork="yes" dir="M&amp;M">
              <classpath>
                      <pathelement location="lib/hamcrest-junit-2.0.0.0.jar" />
                      <pathelement location="lib/java-hamcrest-2.0.0.0.jar" />
                      <pathelement location="build/classes"/>
              </classpath>
              <formatter type="xml"/>
            <batchtest todir="build/tests">
              <fileset dir="build/classes" includes="**/*Test.class" />
            </batchtest>
      </junit>
    </target>
</project>